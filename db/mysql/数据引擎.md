默认：InnoDB

物理文件：db_name.ibd





# 存储方式

聚簇索引（主键索引）：索引和数据存储在一起。

非聚簇索引（二级索引）：只存储索引和主键值。





# 数据（索引）结构

B+Tree、Hash、全文索引



## B+Tree

结构：

![](../../img/mysql-b+tree结构.svg)

非叶子节点只存储索引，一个节点存储多个索引。叶子节点存储索引及数据，叶子节点间有双向索引。

优点：

1. 在磁盘上，一个节点是一段物理连续的存储空间，对一个节点的访问只进行一次I/O操作。一个节点存储多个索引降低了I/O次数。
2. 非叶子节点不存储数据使得节点能够存储更多的索引。
3. 叶子节点的双向索引对范围查询提供了高效支持。

### 二级索引

二级索引是以非聚簇方式存储的。

结构：

![](../../img/mysql-非主键索引结构.svg)

叶子节点只存储索引字段和主键的数据。如果查询字段非索引字段则需要通过主键再去查主键索引（回表）。

### 联合索引

![](../../img/mysql-联合索引节点.svg)

联合索引按索引字段顺序依次排序，即满足在左索引相等的情况下右索引才有序。

使用联合索引需要遵循最左前缀匹配原则。

### 最左前缀匹配

在使用联合索引时，查询条件如果存在联合索引的某字段，则必须保证该字段的右侧所有字段都在查询中，否则不会使用联合索引。
